{"version":3,"file":"index.js","sources":["../src/js/modal.js","../src/js/helpers.js","../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["const modal = document.querySelector('.modal');\nconst closeModalBtn = document.querySelector('.modal__close-btn');\nconst modalProduct = document.querySelector(`.modal-product`);\n\nconst productsList = document.querySelector('.products');\n\nfunction fetchProductById(id) {\n  return fetch(`https://dummyjson.com/products/${id}`).then(response => {\n    if (!response.ok) {\n      throw new Error(`Error: ${response.status}`);\n    }\n    return response.json();\n  });\n}\n\nfunction openModal(product) {\n  const markApp = `<img class=\"modal-product__img\" src=\"${product.thumbnail}\" alt=\"${product.title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${product.title}</p>\n        <ul class=\"modal-product__tags\">${product.tags}</ul>\n        <p class=\"modal-product__description\">${product.description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${product.shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${product.returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: $${product.price}</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n\n `;\n\n  modalProduct.innerHTML = markApp;\n  modal.classList.add('modal--is-open');\n}\n\nfunction closeModal() {\n  modal.classList.remove('modal--is-open');\n}\n\nexport function getProductById(event) {\n  const item = event.target.closest('.products__item');\n  if (!item) return;\n\n  const productId = item.dataset.id;\n\n  fetchProductById(productId)\n    .then(product => openModal(product))\n    .catch(error => console.error('Error loading product:', error));\n}\n\ncloseModalBtn.addEventListener('click', closeModal);\nmodal.addEventListener('click', event => {\n  if (event.target === modal) {\n    closeModal();\n  }\n});\n","export const activeFirstBtn = () => {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n};\n","export const BASE_URL = 'https://dummyjson.com';\n\nexport const ENDPOINTS = {\n  CATEGORIES: '/products/category-list',\n  PRODUCTS: '/products',\n  CATEGORY: '/products/category/',\n};\n\nexport const PAGE_SIZE = 12;\n","// API ендпоінти:\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nimport axios from 'axios';\nimport { BASE_URL, ENDPOINTS, PAGE_SIZE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchCategories = async () => {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n};\n\nexport const fetchProducts = async currentPage => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS}`, {\n    params: {\n      limit: PAGE_SIZE,\n      skip: (currentPage - 1) * PAGE_SIZE,\n    },\n  });\n  return data;\n};\n\nexport const fetchProductByCategory = async catName => {\n  const { data } = await axios(`${ENDPOINTS.CATEGORY}${catName}`);\n  return data;\n};\n","export const refs = {\n  categoryList: document.querySelector('.categories'),\n  productList: document.querySelector('.products'),\n};\n","import { refs } from './refs';\n\nexport const renderCategories = data => {\n  const markup = data\n    .map(\n      element => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${element}</button>\n </li>`\n    )\n    .join('');\n\n  refs.categoryList.innerHTML = markup;\n};\n\nexport const renderProducts = data => {\n  const markup = data\n    .map(\n      product => `<li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.description}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${product.brand}</span></p>\n    <p class=\"products__category\">Category: ${product.category} </p>\n    <p class=\"products__price\">Price: ${product.price} $</p>\n </li>`\n    )\n    .join('');\n\n  refs.productList.insertAdjacentHTML('beforeend', markup);\n};\n\nexport const clearHTML = () => {\n  refs.productList.innerHTML = '';\n};\n","import iziToast from 'izitoast';\nimport { activeFirstBtn } from './helpers';\nimport {\n  fetchCategories,\n  fetchProductByCategory,\n  fetchProducts,\n} from './products-api';\nimport { clearHTML, renderCategories, renderProducts } from './render-function';\n\nlet currentPage = 1;\n\nexport const getCategories = async () => {\n  try {\n    const data = await fetchCategories();\n    renderCategories(['All', ...data]);\n\n    activeFirstBtn();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getProducts = async () => {\n  try {\n    const result = await fetchProducts(currentPage);\n    renderProducts(result.products);\n  } catch (err) {\n    iziToast.error({\n      message: err,\n    });\n  }\n};\n\nexport const getProductsByCategory = async e => {\n  if (e.target.nodeName !== 'BUTTON') return;\n  try {\n    const catName = e.target.textContent;\n    const data = await fetchProductByCategory(catName);\n    clearHTML();\n    renderProducts(data.products);\n  } catch (error) {\n    console.log(error);\n  }\n};\n","//Логіка сторінки Home\n\nimport { getProductById } from './js/modal';\nimport {\n  getCategories,\n  getProducts,\n  getProductsByCategory,\n} from './js/handlers';\n\nimport { refs } from './js/refs';\n\ngetCategories();\ngetProducts();\n\nrefs.productList.addEventListener('click', getProductById);\n\n\nrefs.categoryList.addEventListener('click', getProductsByCategory);\n\n"],"names":["modal","closeModalBtn","modalProduct","fetchProductById","id","response","openModal","product","markApp","closeModal","getProductById","event","item","productId","error","activeFirstBtn","firstBtn","BASE_URL","ENDPOINTS","PAGE_SIZE","axios","fetchCategories","data","fetchProducts","currentPage","fetchProductByCategory","catName","refs","renderCategories","markup","element","renderProducts","clearHTML","getCategories","getProducts","result","err","iziToast","getProductsByCategory","e"],"mappings":"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"}